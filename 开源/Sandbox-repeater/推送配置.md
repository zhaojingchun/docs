# 推送配置



请求：

http://127.0.0.1:8001/config/push.json

入口方法：com.alibaba.repeater.console.start.controller.page.ModuleConfigController#push

请求sandbox url： http://10.0.76.17:8820/sandbox/default/module/http/repeater/pushConfig

param

```json
{
    "useTtl":true,
    "degrade":false,
    "exceptionThreshold":1000,
    "sampleRate":10000,
    "pluginsPath":null,
    "httpEntrancePatterns":[
        "^/com.jd.solution/.*$"
    ],
    "javaEntranceBehaviors":[

    ],
    "javaSubInvokeBehaviors":[

    ],
    "pluginIdentities":[
        "http",
        "java-entrance",
        "java-subInvoke"
    ],
    "repeatIdentities":[
        "java",
        "http"
    ]
}
```





sandbox jetty 服务类 ：com.alibaba.jvm.sandbox.core.server.jetty.JettyCoreServer

嵌入是jetty 服务：

```java
public class ExampleServer
{
    public static void main( String[] args ) throws Exception
    {
        Server server = new Server();
        ServerConnector connector = new ServerConnector(server);
        connector.setPort(8080);
        server.setConnectors(new Connector[] { connector });
        ServletContextHandler context = new ServletContextHandler();
        context.setContextPath("/");
        context.addServlet(HelloServlet.class, "/hello");
        context.addServlet(AsyncEchoServlet.class, "/echo/*");
        HandlerCollection handlers = new HandlerCollection();
        handlers.setHandlers(new Handler[] { context, new DefaultHandler() });
        server.setHandler(handlers);
        server.start();
        server.join();
    }
}
```

处理http请求 com.alibaba.jvm.sandbox.core.server.jetty.servlet.ModuleHttpServlet

path ： /repeater/pushConfig

class：  com.alibaba.jvm.sandbox.repeater.module.RepeaterModule

/repeater/repeatWithJson



找到repeater这个类 com.alibaba.jvm.sandbox.repeater.module.RepeaterModule#pushConfig







