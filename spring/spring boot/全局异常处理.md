# 全局异常处理



### 直接添加如下代码即可

```java
@Slf4j
@ControllerAdvice
public class GlobalExceptionHandler {
    /**
     * 异常处理
     * @param req 请求
     * @param e   异常
     * @return 错误返回结果
     */
    @ExceptionHandler({ServiceException.class})
    @ResponseBody
    public RepeaterResult<String> handleError(HttpServletRequest req, ServiceException e) {
        log.error("ServiceException.error:[reqUrl:{},reqParam:{}]", req.getRequestURL(), req.getParameterMap(), e);
        return RepeaterResult.builder().build().buildFailResult(e.getMessage());
    }
    /**
     * 异常处理
     * @param req 请求
     * @param e   异常
     * @return 错误返回结果
     */
    @ExceptionHandler({Exception.class,Throwable.class})
    @ResponseBody
    public RepeaterResult<String> handleError(HttpServletRequest req, Throwable e) {
        log.error("ExceptionHandler.error Throwable :[reqUrl:{},reqParam:{}]", req.getRequestURL(), req.getParameterMap(), e);
        return RepeaterResult.builder().build().buildFailResult(e.getMessage());
    }
}
```

